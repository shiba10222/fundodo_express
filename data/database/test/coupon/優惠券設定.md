# 優惠券規劃

## 前台分類
at 購物車頁面
「活動折抵」  ：全站 / 全區 89 折
「優惠券折抵」：會員所有的優惠券


## 後台分類

### 活動折抵


### 優惠券折抵

- 會員專屬 300 元折價券（無限制）
- 會員專屬 300 元折價券（區限定）
- 會員專屬 300 元折價券（首次消費）
- 會員專屬 300 元折價券（第二次消費）
- 會員專屬免運券
- 滿 899 元免運
- 滿 899 元 85 折
- 滿 899 元 85 折（最高折 500 元）

系統預設 `end_date: null`，發給會員才根據天數設定 end_date

```js
{
  name:       "varchar(20)",
  desc:       "varchar(30)",
  desc_ps:    "varchar(50)",
  scope_to:   "varchar(2) | null",
  scope_from: "varchar(2) | null",
  discount:   "decimal(7,2)",
  min_spent:    "mediumint(5)",
  max_discount: "mediumint(5) | null",
  start_date: "date",
  end_date:   "date | null",
  time_span:  "tinyint(2)",
  created_at: "date",
},
{
  name: '優惠券摘要，至少要包含折價的金額或折數',
  desc: '優惠券的詳細描述，對會員公開的版本。必須包含使用的前提。文字必須經過修飾，讓它看起來有讓使用者有使用的動力、讓使用者有划算的感覺、讓使用者覺得得到這張優惠券像變成 VIP 一樣',
  desc_ps: '優惠券的詳細描述，商家後台才看得到的版本。必須包含使用的前提，但不必像 desc 雕琢用詞，重點在有把使用規則表達清楚',
  scope_to: '優惠券適用的範圍，範圍的所有選項如下：PD(商品)、HT(旅館)、CR(課程)、飼料、保健、零食、玩具、外出、罐頭、運費、null(全部)。',
  scope_from: '要觸發優惠券的效果，需要購買的範圍，範圍的所有選項如下：PD(商品)、HT(旅館)、CR(課程)、飼料、保健、零食、玩具、外出、罐頭、null(全部)。舉例：scope_from 填HT(旅館)，而 scope_to 填PD(商品)，代表凡有一筆HT(旅館)的消費，就能享有PD(商品)的優惠',
  discount: '如果是大於 1 的整數，代表折扣的金額，如果是介於 0 跟 1 之間的二位小數，則代表折數。',
  min_spent: '優惠券的觸發條件之一，滿此金額才能使用此優惠券',
  start_date: '此優惠券的啟用或是開放時間',
  end_date: '此優惠券的到期或是中止時間，若是長期發放者，則會填 null',
  time_span: '此優惠券的有效天數，通常是長期發放的優惠券會填此屬性，否則預設 null',
  created_at: '此優惠券的資料的創建日期',
},
{
  name: '會員專屬 200 元折價券',
  desc: '會員專屬 200 元折價券，全站無條件使用',
  desc_ps: '會員專屬 200 元折價券，全站無條件使用',
  scope_to: null,
  scope_from: null,
  discount: 200,
  min_spent: 0,
  start_date: 'now or later',
  end_date: null,
  time_span: 7,
  created_at: 'now',
},
{
  name: '飼料區 100 元折價券',
  discount: 100,
  desc: '飼料區 100 元折價券',
  min_spent: '',
  start_date: '',
  end_date: '',
}
// Template
{
  name: '',
  desc: '',
  desc_ps: '',
  scope_to: null,
  scope_from: null,
  discount: '',
  desc: '',
  min_spent: '',
  start_date: '',
  end_date: null,
  time_span: 7,
  created_at: 'now',
},
```

